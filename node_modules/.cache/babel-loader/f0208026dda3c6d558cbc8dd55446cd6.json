{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/bkss/DevWs/capstone-client-management/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/apple/bkss/DevWs/capstone-client-management/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/apple/bkss/DevWs/capstone-client-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/apple/bkss/DevWs/capstone-client-management/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/apple/bkss/DevWs/capstone-client-management/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/apple/bkss/DevWs/capstone-client-management/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/apple/bkss/DevWs/capstone-client-management/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/apple/bkss/DevWs/capstone-client-management/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Button,ButtonGroup,Container,Table}from'reactstrap';import AppNavbar from'./AppNavbar';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ClientList=/*#__PURE__*/function(_Component){_inherits(ClientList,_Component);var _super=_createSuper(ClientList);function ClientList(props){var _this;_classCallCheck(this,ClientList);_this=_super.call(this,props);_this.state={clients:[]};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(ClientList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/clients').then(function(response){return response.json();}).then(function(data){return _this2.setState({clients:data});});}},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var _this3=this;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/clients/\".concat(id),{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){var updatedClients=_toConsumableArray(_this3.state.clients).filter(function(i){return i.id!==id;});_this3.setState({clients:updatedClients});});case 2:case\"end\":return _context.stop();}},_callee);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"render\",value:function render(){var _this4=this;var clients=this.state.clients;var clientList=clients.map(function(client){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{whiteSpace:'nowrap'},children:client.name}),/*#__PURE__*/_jsx(\"td\",{children:client.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"primary\",tag:Link,to:\"/clients/\"+client.id,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"danger\",onClick:function onClick(){return _this4.remove(client.id);},children:\"Delete\"})]})})]},client.id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",tag:Link,to:\"/clients/new\",children:\"Add Client\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Clients\"}),/*#__PURE__*/_jsxs(Table,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{width:\"40%\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:clientList})]})]})]});}}]);return ClientList;}(Component);export default ClientList;","map":{"version":3,"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","jsx","_jsx","jsxs","_jsxs","ClientList","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","clients","remove","bind","_assertThisInitialized","_createClass","key","value","componentDidMount","_this2","fetch","then","response","json","data","setState","_remove","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","_this3","wrap","_callee$","_context","prev","next","concat","method","headers","updatedClients","_toConsumableArray","filter","i","stop","_x","apply","arguments","render","_this4","clientList","map","client","children","style","whiteSpace","name","email","size","color","tag","to","onClick","fluid","className","width"],"sources":["/Users/apple/bkss/DevWs/capstone-client-management/frontend/src/ClientList.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\nimport AppNavbar from './AppNavbar';\nimport { Link } from 'react-router-dom';\n\nclass ClientList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {clients: []};\n        this.remove = this.remove.bind(this);\n    }\n\n    componentDidMount() {\n        fetch('/clients')\n            .then(response => response.json())\n            .then(data => this.setState({clients: data}));\n    }\n\n    async remove(id) {\n        await fetch(`/clients/${id}`, {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(() => {\n            let updatedClients = [...this.state.clients].filter(i => i.id !== id);\n            this.setState({clients: updatedClients});\n        });\n    }\n\n    render() {\n        const {clients} = this.state;\n\n        const clientList = clients.map(client => {\n            return <tr key={client.id}>\n                <td style={{whiteSpace: 'nowrap'}}>{client.name}</td>\n                <td>{client.email}</td>\n                <td>\n                    <ButtonGroup>\n                        <Button size=\"sm\" color=\"primary\" tag={Link} to={\"/clients/\" + client.id}>Edit</Button>\n                        <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(client.id)}>Delete</Button>\n                    </ButtonGroup>\n                </td>\n            </tr>\n        });\n\n        return (\n            <div>\n                <AppNavbar/>\n                <Container fluid>\n                    <div className=\"float-right\">\n                        <Button color=\"success\" tag={Link} to=\"/clients/new\">Add Client</Button>\n                    </div>\n                    <h3>Clients</h3>\n                    <Table className=\"mt-4\">\n                        <thead>\n                        <tr>\n                            <th width=\"30%\">Name</th>\n                            <th width=\"30%\">Email</th>\n                            <th width=\"40%\">Actions</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {clientList}\n                        </tbody>\n                    </Table>\n                </Container>\n            </div>\n        );\n    }\n}\n\nexport default ClientList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}